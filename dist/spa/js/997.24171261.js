"use strict";(self["webpackChunktim_app"]=self["webpackChunktim_app"]||[]).push([[997],{5997:(e,l,a)=>{a.r(l),a.d(l,{default:()=>ve});var n=a(3673),t=a(2323),i=a(8880);const o={class:"row"},s={key:0,class:"row q-ma-sm flex flex-center"},m={key:0,class:"col-md-9 col-xs-12"},r={class:"text-blue-10 text-center text-justify center"},u={style:{"font-size":"130%",margin:"20px 10px 20px"}},c={class:"row"},d={class:"col-auto"},_={class:"col q-pl-xs"},p={class:"q-ml-md"},f={style:{color:"#808080"}},v={style:{color:"#808080"}},b=(0,n._)("span",{style:{color:"#808080"}},"data:",-1),w={class:"col-auto q-mr-lg"},y={class:"col-12 q-mt-xl q-ml-xl"},g={class:"label bg-white text-primary",style:{"font-size":"110%"}},q=["innerHTML"],T=["innerHTML"],x=["innerHTML"],H=["innerHTML"],L=["innerHTML"],W=["innerHTML"],k=["innerHTML"],M=["innerHTML"],h=["innerHTML"],Z=["innerHTML"],z={style:{"font-size":"14px"}},Q=["innerHTML"],I=["innerHTML"],C=["innerHTML"],j={class:"q-mt-lg col-xs-12 flex flex-center"},E={class:"col-auto q-pr-xl"},S={class:"col-auto"},U={class:"q-mt-lg col-xs-12 flex flex-center"},A={class:"col-medium-3 col-xs-12 q-ma-md"},$={class:"q-gutter-sm"};function P(e,l,a,P,D,V){const F=(0,n.up)("q-toolbar-title"),G=(0,n.up)("q-space"),R=(0,n.up)("q-btn"),B=(0,n.up)("q-toolbar"),N=(0,n.up)("q-avatar"),J=(0,n.up)("q-item-section"),K=(0,n.up)("q-item"),O=(0,n.up)("q-list"),X=(0,n.up)("q-menu"),Y=(0,n.up)("q-icon"),ee=(0,n.up)("q-card-section"),le=(0,n.up)("q-separator"),ae=(0,n.up)("q-tooltip"),ne=(0,n.up)("q-card"),te=(0,n.up)("q-checkbox"),ie=(0,n.up)("q-page"),oe=(0,n.up)("q-page-container"),se=(0,n.up)("q-layout");return(0,n.wg)(),(0,n.j4)(se,null,{default:(0,n.w5)((()=>[(0,n.Wm)(oe,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ie,null,{default:(0,n.w5)((()=>[(0,n._)("div",o,[e.persistent?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(B,{key:0,inset:"",class:"shadow-2 bg-blue-10 text-white"},{default:(0,n.w5)((()=>[e.cont<10?((0,n.wg)(),(0,n.j4)(F,{key:0,class:"q-ml-sm"},{default:(0,n.w5)((()=>[(0,n.Uk)("Email "+(0,t.zw)(e.cont+1)+"/10",1)])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(G),(0,n.Wm)(R,{class:"gt-sm",flat:"",round:"",dense:"",icon:"kayaking"}),(0,n.Wm)(R,{class:"gt-sm",flat:"",round:"",dense:"",icon:"password"}),(0,n.Wm)(R,{class:"gt-sm",flat:"",round:"",dense:"",icon:"attach_email"}),(0,n.Wm)(R,{class:"gt-sm",flat:"",round:"",dense:"",icon:"sentiment_satisfied_alt"})])),_:1}))]),(0,n.Wm)(i.W3,{appear:"","enter-active-class":"animated fadeInRight"},{default:(0,n.w5)((()=>[void 0!==e.email_info.email[e.cont]?((0,n.wg)(),(0,n.iD)("div",s,[void 0!==e.email_info.email[e.cont].contex?((0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("div",r,[(0,n._)("h5",u,(0,t.zw)(e.email_info.email[e.cont].contex),1)]),(0,n.Wm)(ne,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ee,null,{default:(0,n.w5)((()=>[(0,n._)("div",c,[(0,n._)("div",d,[(0,n.Wm)(N,{color:"white","text-color":"primary","font-size":"100%",icon:"account_circle"})]),(0,n._)("div",_,[(0,n._)("div",null,[(0,n._)("span",p,[(0,n._)("b",null,(0,t.zw)(e.email_info.email[e.cont].sender_name),1)])]),(0,n._)("div",null,[(0,n.Wm)(R,{"no-caps":"",size:"xs",flat:"","text-color":"grey-8",label:"to me",style:{"font-size":"80%"},"icon-right":"arrow_drop_down"},{default:(0,n.w5)((()=>[(0,n.Wm)(X,null,{default:(0,n.w5)((()=>[(0,n.Wm)(O,{dense:"",padding:"",class:"rounded-borders q-mt-md q-ml-md q-mr-lg q-mb-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(J,null,{default:(0,n.w5)((()=>[(0,n._)("p",null,[(0,n._)("span",f,(0,t.zw)(e.$t("from")),1),(0,n.Uk)(" "+(0,t.zw)(e.email_info.email[e.cont].fromEmail.from_email),1)])])),_:1})])),_:1}),(0,n.Wm)(K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(J,null,{default:(0,n.w5)((()=>[(0,n._)("p",null,[(0,n._)("span",v,(0,t.zw)(e.$t("to")),1),(0,n.Uk)(" "+(0,t.zw)(e.form.email),1)])])),_:1})])),_:1}),(0,n.Wm)(K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(J,null,{default:(0,n.w5)((()=>[(0,n._)("p",null,[b,(0,n.Uk)(" "+(0,t.zw)(e.email_info.email[e.cont].data),1)])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])]),(0,n._)("div",w,[(0,n.Wm)(Y,{name:"alternate_email",size:"md"})]),(0,n._)("div",y,[(0,n._)("p",null,[(0,n._)("span",g,(0,t.zw)(e.$t("subject")),1),(0,n.Uk)(" "+(0,t.zw)(e.email_info.email[e.cont].subject.subject_email),1)])]),(0,n._)("div",{class:"q-ml-lg",innerHTML:e.email_info.email[e.cont].body.body_attachment},null,8,q)])])),_:1}),(0,n.Wm)(le,{color:"grey",inset:""}),(0,n.Wm)(ee,null,{default:(0,n.w5)((()=>[(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_header_img},null,8,T),(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_header_text},null,8,x),(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_header_title},null,8,H),(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_center_img},null,8,L),(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_greetings},null,8,W),(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_center1},null,8,k),(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_center2},null,8,M),(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_center3},null,8,h),(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_table},null,8,Z),e.email_info.email[e.cont].body.button_name?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,t.C_)(e.email_info.email[e.cont].body.button_class)},[(0,n.Wm)(R,{color:e.email_info.email[e.cont].body.button_color,label:e.email_info.email[e.cont].body.button_name},{default:(0,n.w5)((()=>[(0,n.Wm)(ae,null,{default:(0,n.w5)((()=>[(0,n._)("div",z,(0,t.zw)(e.email_info.email[e.cont].body.button_link),1)])),_:1})])),_:1},8,["color","label"])],2)):(0,n.kq)("",!0),(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_bottom},null,8,Q),(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_signature},null,8,I),(0,n._)("div",{innerHTML:e.email_info.email[e.cont].body.body_footer},null,8,C)])),_:1})])),_:1})])):(0,n.kq)("",!0),(0,n._)("div",j,[(0,n._)("div",E,[(0,n.Wm)(R,{onClick:l[0]||(l[0]=l=>e.next(!0)),color:"negative",label:"PHISHING"})]),(0,n._)("div",S,[(0,n.Wm)(R,{onClick:l[1]||(l[1]=l=>e.next(!1)),disable:e.reported_as_spam,color:"positive",label:"LEGITIMATE"},null,8,["disable"])])]),(0,n._)("div",U,[(0,n._)("div",A,[(0,n._)("div",$,[(0,n.Wm)(te,{"left-label":"",modelValue:e.reported_as_spam,"onUpdate:modelValue":l[2]||(l[2]=l=>e.reported_as_spam=l),label:e.$t("label_suspicious")},null,8,["modelValue","label"])])])])])):(0,n.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1})}var D=a(1959),V=a(3617),F=a(9582),G=a(1902);a(1082);const R=(0,n.aZ)({setup(){const e=(0,F.tv)(),l=(0,V.oR)(),a=(0,D.Fl)((()=>l.state.result)),n=(0,D.Fl)((()=>l.state.email));console.log(n);const{locale:t}=(0,G.QT)({useScope:"global"});let i="";"en-US"==t.value?i="English":"it"==t.value&&(i="Italian");const o=(0,D.qj)({first_name:"",email:"",lang:i}),s=(0,D.iH)(!1),m=(0,D.iH)(!1),r=(0,D.iH)(-1),u=(0,D.qj)([]),c=(0,D.iH)(0),d=(0,D.iH)(!0),_=(0,D.iH)(!0),p=async()=>{d.value=!1,-1===r.value&&(r.value=0,await l.dispatch("email/get_email",o)),setTimeout((()=>{r.value+=1,p()}),900)},f=async e=>{const l=r.value,a=m.value;if(m.value=!1,r.value=0,c.value<10){const t={emailId:n.value.email[c.value].id,answer:e,time_taken_to_answer:l,reported_as_spam:a};u.push(t),c.value=c.value+1,r.value=0,window.scrollTo(0,0)}10===c.value&&(s.value=!0,r.value=-1,v())},v=async()=>{const e={userId:localStorage.getItem("userId"),name:o.first_name,email:o.email,platform:window.navigator.platform};u.push(e),await l.dispatch("email/test_delivery",u)},b=async e=>{const l=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return l.test(e)||"Invalid email"},w=()=>{const e=300,l=!1;if(m.value=!1,c.value<10){const a={emailId:n.value.email[c.value].id,answer:!n.value.email[c.value].phishing_email,time_taken_to_answer:e,reported_as_spam:l};u.push(a),c.value+=1,r.value=0,9===c.value&&(r.value=-1)}};return{form:o,startTest:p,persistent:d,email_info:n,testDelivery:v,cont:c,result:a,reported_as_spam:m,next:f,countTime:r,timeEndPersistent:_,isValidEmail:b,terminate:s,router:e,timeEnd:w}}});var B=a(4260),N=a(4899),J=a(2652),K=a(4379),O=a(9570),X=a(3747),Y=a(2025),ee=a(8240),le=a(1271),ae=a(151),ne=a(5589),te=a(5096),ie=a(811),oe=a(7011),se=a(3414),me=a(2035),re=a(4554),ue=a(5869),ce=a(8870),de=a(5735),_e=a(7518),pe=a.n(_e);const fe=(0,B.Z)(R,[["render",P]]),ve=fe;pe()(R,"components",{QLayout:N.Z,QPageContainer:J.Z,QPage:K.Z,QToolbar:O.Z,QToolbarTitle:X.Z,QSpace:Y.Z,QBtn:ee.Z,QCircularProgress:le.Z,QCard:ae.Z,QCardSection:ne.Z,QAvatar:te.Z,QMenu:ie.Z,QList:oe.Z,QItem:se.Z,QItemSection:me.Z,QIcon:re.Z,QSeparator:ue.Z,QTooltip:ce.Z,QCheckbox:de.Z})}}]);